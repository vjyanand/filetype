use serde::{Deserialize, Serialize};
use serde_wasm_bindgen::Error;
use std::{cmp, io::Read};
use wasm_bindgen::prelude::*;
use wasm_bindgen_file_reader::WebSysFile;

static JSON_EXTENSION: &'static str = r#"[{"m":"application/vnd.hzn-3d-crossword","d":"3D Crossword Plugin","e":".x3d"},{"m":"video/3gpp","d":"3GP","e":".3gp"},{"m":"video/3gpp2","d":"3GP2","e":".3g2"},{"m":"application/vnd.mseq","d":"3GPP MSEQ File","e":".mseq"},{"m":"application/vnd.3m.post-it-notes","d":"3M Post It Notes","e":".pwn"},{"m":"application/vnd.3gpp.pic-bw-large","d":"3rd Generation Partnership Project - Pic Large","e":".plb"},{"m":"application/vnd.3gpp.pic-bw-small","d":"3rd Generation Partnership Project - Pic Small","e":".psb"},{"m":"application/vnd.3gpp.pic-bw-var","d":"3rd Generation Partnership Project - Pic Var","e":".pvb"},{"m":"application/vnd.3gpp2.tcap","d":"3rd Generation Partnership Project - Transaction Capabilities Application Part","e":".tcap"},{"m":"application/x-7z-compressed","d":"7-Zip","e":".7z"},{"m":"application/x-abiword","d":"AbiWord","e":".abw"},{"m":"application/x-ace-compressed","d":"Ace Archive","e":".ace"},{"m":"application/vnd.americandynamics.acc","d":"Active Content Compression","e":".acc"},{"m":"application/vnd.acucobol","d":"ACU Cobol","e":".acu"},{"m":"application/vnd.acucorp","d":"ACU Cobol","e":".atc"},{"m":"audio/adpcm","d":"Adaptive differential pulse-code modulation","e":".adp"},{"m":"application/x-authorware-bin","d":"Adobe (Macropedia) Authorware - Binary File","e":".aab"},{"m":"application/x-authorware-map","d":"Adobe (Macropedia) Authorware - Map","e":".aam"},{"m":"application/x-authorware-seg","d":"Adobe (Macropedia) Authorware - Segment File","e":".aas"},{"m":"application/vnd.adobe.air-application-installer-package+zip","d":"Adobe AIR Application","e":".air"},{"m":"application/x-shockwave-flash","d":"Adobe Flash","e":".swf"},{"m":"application/vnd.adobe.fxp","d":"Adobe Flex Project","e":".fxp"},{"m":"application/pdf","d":"Adobe Portable Document Format","e":".pdf"},{"m":"application/vnd.cups-ppd","d":"Adobe PostScript Printer Description File Format","e":".ppd"},{"m":"application/x-director","d":"Adobe Shockwave Player","e":".dir"},{"m":"application/vnd.adobe.xdp+xml","d":"Adobe XML Data Package","e":".xdp"},{"m":"application/vnd.adobe.xfdf","d":"Adobe XML Forms Data Format","e":".xfdf"},{"m":"audio/x-aac","d":"Advanced Audio Coding (AAC)","e":".aac"},{"m":"application/vnd.ahead.space","d":"Ahead AIR Application","e":".ahead"},{"m":"application/vnd.airzip.filesecure.azf","d":"AirZip FileSECURE","e":".azf"},{"m":"application/vnd.airzip.filesecure.azs","d":"AirZip FileSECURE","e":".azs"},{"m":"application/vnd.amazon.ebook","d":"Amazon Kindle eBook format","e":".azw"},{"m":"application/vnd.amiga.ami","d":"AmigaDE","e":".ami"},{"m":"application/andrew-inset","d":"Andrew Toolkit","e":"N/A"},{"m":"application/vnd.android.package-archive","d":"Android Package Archive","e":".apk"},{"m":"application/vnd.anser-web-certificate-issue-initiation","d":"ANSER-WEB Terminal Client - Certificate Issue","e":".cii"},{"m":"application/vnd.anser-web-funds-transfer-initiation","d":"ANSER-WEB Terminal Client - Web Funds Transfer","e":".fti"},{"m":"application/vnd.antix.game-component","d":"Antix Game Player","e":".atx"},{"m":"application/x-apple-diskimage","d":"Apple Disk Image","e":".dmg"},{"m":"application/vnd.apple.installer+xml","d":"Apple Installer Package","e":".mpkg"},{"m":"application/applixware","d":"Applixware","e":".aw"},{"m":"application/vnd.hhe.lesson-player","d":"Archipelago Lesson Player","e":".les"},{"m":"application/x-freearc","d":"Archive document - Multiple Fils Embedded","e":".arc"},{"m":"application/vnd.aristanetworks.swi","d":"Arista Networks Software Image","e":".swi"},{"m":"text/x-asm","d":"Assembler Source File","e":".s"},{"m":"application/atomcat+xml","d":"Atom Publishing Protocol","e":".atomcat"},{"m":"application/atomsvc+xml","d":"Atom Publishing Protocol Service Document","e":".atomsvc"},{"m":"application/atom+xml","d":"Atom Syndication Format","e":".atom, .xml"},{"m":"application/pkix-attr-cert","d":"Attribute Certificate","e":".ac"},{"m":"audio/x-aiff","d":"Audio Interchange File Format","e":".aif"},{"m":"video/x-msvideo","d":"Audio Video Interleave (AVI)","e":".avi"},{"m":"application/vnd.audiograph","d":"Audiograph","e":".aep"},{"m":"image/vnd.dxf","d":"AutoCAD DXF","e":".dxf"},{"m":"model/vnd.dwf","d":"Autodesk Design Web Format (DWF)","e":".dwf"},{"m":"image/avif","d":"AV1 Image File","e":".avif"},{"m":"text/plain-bas","d":"BAS Partitur Format","e":".par"},{"m":"application/x-bcpio","d":"Binary CPIO Archive","e":".bcpio"},{"m":"application/octet-stream","d":"Binary Data","e":".bin"},{"m":"image/bmp","d":"Bitmap Image File","e":".bmp"},{"m":"application/x-bittorrent","d":"BitTorrent","e":".torrent"},{"m":"application/vnd.rim.cod","d":"Blackberry COD File","e":".cod"},{"m":"application/vnd.blueice.multipass","d":"Blueice Research Multipass","e":".mpm"},{"m":"application/vnd.bmi","d":"BMI Drawing Data Interchange","e":".bmi"},{"m":"application/x-sh","d":"Bourne Shell Script","e":".sh"},{"m":"image/prs.btif","d":"BTIF","e":".btif"},{"m":"application/vnd.businessobjects","d":"BusinessObjects","e":".rep"},{"m":"application/x-bzip","d":"Bzip Archive","e":".bz"},{"m":"application/x-bzip2","d":"Bzip2 Archive","e":".bz2"},{"m":"application/x-csh","d":"C Shell Script","e":".csh"},{"m":"text/x-c","d":"C Source File","e":".c"},{"m":"application/vnd.chemdraw+xml","d":"CambridgeSoft Chem Draw","e":".cdxml"},{"m":"text/css","d":"Cascading Style Sheets (CSS)","e":".css"},{"m":"application/x-cdf","d":"CD Audio","e":".cda"},{"m":"chemical/x-cdx","d":"ChemDraw eXchange file","e":".cdx"},{"m":"chemical/x-cml","d":"Chemical Markup Language","e":".cml"},{"m":"chemical/x-csml","d":"Chemical Style Markup Language","e":".csml"},{"m":"application/vnd.contact.cmsg","d":"CIM Database","e":".cdbcmsg"},{"m":"application/vnd.claymore","d":"Claymore Data Files","e":".cla"},{"m":"application/vnd.clonk.c4group","d":"Clonk Game","e":".c4g"},{"m":"image/vnd.dvb.subtitle","d":"Close Captioning - Subtitle","e":".sub"},{"m":"application/cdmi-capability","d":"Cloud Data Management Interface (CDMI) - Capability","e":".cdmia"},{"m":"application/cdmi-container","d":"Cloud Data Management Interface (CDMI) - Contaimer","e":".cdmic"},{"m":"application/cdmi-domain","d":"Cloud Data Management Interface (CDMI) - Domain","e":".cdmid"},{"m":"application/cdmi-object","d":"Cloud Data Management Interface (CDMI) - Object","e":".cdmio"},{"m":"application/cdmi-queue","d":"Cloud Data Management Interface (CDMI) - Queue","e":".cdmiq"},{"m":"application/vnd.cluetrust.cartomobile-config","d":"ClueTrust CartoMobile - Config","e":".c11amc"},{"m":"application/vnd.cluetrust.cartomobile-config-pkg","d":"ClueTrust CartoMobile - Config Package","e":".c11amz"},{"m":"image/x-cmu-raster","d":"CMU Image","e":".ras"},{"m":"model/vnd.collada+xml","d":"COLLADA","e":".dae"},{"m":"text/csv","d":"Comma-Seperated Values","e":".csv"},{"m":"application/mac-compactpro","d":"Compact Pro","e":".cpt"},{"m":"application/vnd.wap.wmlc","d":"Compiled Wireless Markup Language (WMLC)","e":".wmlc"},{"m":"image/cgm","d":"Computer Graphics Metafile","e":".cgm"},{"m":"x-conference/x-cooltalk","d":"CoolTalk","e":".ice"},{"m":"image/x-cmx","d":"Corel Metafile Exchange (CMX)","e":".cmx"},{"m":"application/vnd.xara","d":"CorelXARA","e":".xar"},{"m":"application/vnd.cosmocaller","d":"CosmoCaller","e":".cmc"},{"m":"application/x-cpio","d":"CPIO Archive","e":".cpio"},{"m":"application/vnd.crick.clicker","d":"CrickSoftware - Clicker","e":".clkx"},{"m":"application/vnd.crick.clicker.keyboard","d":"CrickSoftware - Clicker - Keyboard","e":".clkk"},{"m":"application/vnd.crick.clicker.palette","d":"CrickSoftware - Clicker - Palette","e":".clkp"},{"m":"application/vnd.crick.clicker.template","d":"CrickSoftware - Clicker - Template","e":".clkt"},{"m":"application/vnd.crick.clicker.wordbank","d":"CrickSoftware - Clicker - Wordbank","e":".clkw"},{"m":"application/vnd.criticaltools.wbs+xml","d":"Critical Tools - PERT Chart EXPERT","e":".wbs"},{"m":"application/vnd.rig.cryptonote","d":"CryptoNote","e":".cryptonote"},{"m":"chemical/x-cif","d":"Crystallographic Interchange Format","e":".cif"},{"m":"chemical/x-cmdf","d":"CrystalMaker Data Format","e":".cmdf"},{"m":"application/cu-seeme","d":"CU-SeeMe","e":".cu"},{"m":"application/prs.cww","d":"CU-Writer","e":".cww"},{"m":"text/vnd.curl","d":"Curl - Applet","e":".curl"},{"m":"text/vnd.curl.dcurl","d":"Curl - Detached Applet","e":".dcurl"},{"m":"text/vnd.curl.mcurl","d":"Curl - Manifest File","e":".mcurl"},{"m":"text/vnd.curl.scurl","d":"Curl - Source Code","e":".scurl"},{"m":"application/vnd.curl.car","d":"CURL Applet","e":".car"},{"m":"application/vnd.curl.pcurl","d":"CURL Applet","e":".pcurl"},{"m":"application/vnd.yellowriver-custom-menu","d":"CustomMenu","e":".cmp"},{"m":"application/dssc+der","d":"Data Structure for the Security Suitability of Cryptographic Algorithms","e":".dssc"},{"m":"application/dssc+xml","d":"Data Structure for the Security Suitability of Cryptographic Algorithms","e":".xdssc"},{"m":"application/x-debian-package","d":"Debian Package","e":".deb"},{"m":"audio/vnd.dece.audio","d":"DECE Audio","e":".uva"},{"m":"image/vnd.dece.graphic","d":"DECE Graphic","e":".uvi"},{"m":"video/vnd.dece.hd","d":"DECE High Definition Video","e":".uvh"},{"m":"video/vnd.dece.mobile","d":"DECE Mobile Video","e":".uvm"},{"m":"video/vnd.uvvu.mp4","d":"DECE MP4","e":".uvu"},{"m":"video/vnd.dece.pd","d":"DECE PD Video","e":".uvp"},{"m":"video/vnd.dece.sd","d":"DECE SD Video","e":".uvs"},{"m":"video/vnd.dece.video","d":"DECE Video","e":".uvv"},{"m":"application/x-dvi","d":"Device Independent File Format (DVI)","e":".dvi"},{"m":"application/vnd.fdsn.seed","d":"Digital Siesmograph Networks - SEED Datafiles","e":".seed"},{"m":"application/x-dtbook+xml","d":"Digital Talking Book","e":".dtb"},{"m":"application/x-dtbresource+xml","d":"Digital Talking Book - Resource File","e":".res"},{"m":"application/vnd.dvb.ait","d":"Digital Video Broadcasting","e":".ait"},{"m":"application/vnd.dvb.service","d":"Digital Video Broadcasting","e":".svc"},{"m":"audio/vnd.digital-winds","d":"Digital Winds Music","e":".eol"},{"m":"image/vnd.djvu","d":"DjVu","e":".djvu"},{"m":"application/xml-dtd","d":"Document Type Definition","e":".dtd"},{"m":"application/vnd.dolby.mlp","d":"Dolby Meridian Lossless Packing","e":".mlp"},{"m":"application/x-doom","d":"Doom Video Game","e":".wad"},{"m":"application/vnd.dpgraph","d":"DPGraph","e":".dpg"},{"m":"audio/vnd.dra","d":"DRA Audio","e":".dra"},{"m":"application/vnd.dreamfactory","d":"DreamFactory","e":".dfac"},{"m":"audio/vnd.dts","d":"DTS Audio","e":".dts"},{"m":"audio/vnd.dts.hd","d":"DTS High Definition Audio","e":".dtshd"},{"m":"image/vnd.dwg","d":"DWG Drawing","e":".dwg"},{"m":"application/vnd.dynageo","d":"DynaGeo","e":".geo"},{"m":"application/ecmascript","d":"ECMAScript","e":".es"},{"m":"application/vnd.ecowin.chart","d":"EcoWin Chart","e":".mag"},{"m":"image/vnd.fujixerox.edmics-mmr","d":"EDMICS 2000","e":".mmr"},{"m":"image/vnd.fujixerox.edmics-rlc","d":"EDMICS 2000","e":".rlc"},{"m":"application/exi","d":"Efficient XML Interchange","e":".exi"},{"m":"application/vnd.proteus.magazine","d":"EFI Proteus","e":".mgz"},{"m":"application/epub+zip","d":"Electronic Publication","e":".epub"},{"m":"message/rfc822","d":"Email Message","e":".eml"},{"m":"application/vnd.enliven","d":"Enliven Viewer","e":".nml"},{"m":"application/vnd.is-xpr","d":"Express by Infoseek","e":".xpr"},{"m":"image/vnd.xiff","d":"eXtended Image File Format (XIFF)","e":".xif"},{"m":"application/vnd.xfdl","d":"Extensible Forms Description Language","e":".xfdl"},{"m":"application/emma+xml","d":"Extensible MultiModal Annotation","e":".emma"},{"m":"application/vnd.ezpix-album","d":"EZPix Secure Photo Album","e":".ez2"},{"m":"application/vnd.ezpix-package","d":"EZPix Secure Photo Album","e":".ez3"},{"m":"image/vnd.fst","d":"FAST Search & Transfer ASA","e":".fst"},{"m":"video/vnd.fvt","d":"FAST Search & Transfer ASA","e":".fvt"},{"m":"image/vnd.fastbidsheet","d":"FastBid Sheet","e":".fbs"},{"m":"application/vnd.denovo.fcselayout-link","d":"FCS Express Layout Link","e":".fe_launch"},{"m":"video/x-f4v","d":"Flash Video","e":".f4v"},{"m":"video/x-flv","d":"Flash Video","e":".flv"},{"m":"image/vnd.fpx","d":"FlashPix","e":".fpx"},{"m":"image/vnd.net-fpx","d":"FlashPix","e":".npx"},{"m":"text/vnd.fmi.flexstor","d":"FLEXSTOR","e":".flx"},{"m":"video/x-fli","d":"FLI/FLC Animation Format","e":".fli"},{"m":"application/vnd.fluxtime.clip","d":"FluxTime Clip","e":".ftc"},{"m":"application/vnd.fdf","d":"Forms Data Format","e":".fdf"},{"m":"text/x-fortran","d":"Fortran Source File","e":".f"},{"m":"application/vnd.mif","d":"FrameMaker Interchange Format","e":".mif"},{"m":"application/vnd.framemaker","d":"FrameMaker Normal Format","e":".fm"},{"m":"image/x-freehand","d":"FreeHand MX","e":".fh"},{"m":"application/vnd.fsc.weblaunch","d":"Friendly Software Corporation","e":".fsc"},{"m":"application/vnd.frogans.fnc","d":"Frogans Player","e":".fnc"},{"m":"application/vnd.frogans.ltf","d":"Frogans Player","e":".ltf"},{"m":"application/vnd.fujixerox.ddd","d":"Fujitsu - Xerox 2D CAD Data","e":".ddd"},{"m":"application/vnd.fujixerox.docuworks","d":"Fujitsu - Xerox DocuWorks","e":".xdw"},{"m":"application/vnd.fujixerox.docuworks.binder","d":"Fujitsu - Xerox DocuWorks Binder","e":".xbd"},{"m":"application/vnd.fujitsu.oasys","d":"Fujitsu Oasys","e":".oas"},{"m":"application/vnd.fujitsu.oasys2","d":"Fujitsu Oasys","e":".oa2"},{"m":"application/vnd.fujitsu.oasys3","d":"Fujitsu Oasys","e":".oa3"},{"m":"application/vnd.fujitsu.oasysgp","d":"Fujitsu Oasys","e":".fg5"},{"m":"application/vnd.fujitsu.oasysprs","d":"Fujitsu Oasys","e":".bh2"},{"m":"application/x-futuresplash","d":"FutureSplash Animator","e":".spl"},{"m":"application/vnd.fuzzysheet","d":"FuzzySheet","e":".fzs"},{"m":"image/g3fax","d":"G3 Fax Image","e":".g3"},{"m":"application/vnd.gmx","d":"GameMaker ActiveX","e":".gmx"},{"m":"model/vnd.gtw","d":"Gen-Trix Studio","e":".gtw"},{"m":"application/vnd.genomatix.tuxedo","d":"Genomatix Tuxedo Framework","e":".txd"},{"m":"application/vnd.geogebra.file","d":"GeoGebra","e":".ggb"},{"m":"application/vnd.geogebra.tool","d":"GeoGebra","e":".ggt"},{"m":"model/vnd.gdl","d":"Geometric Description Language (GDL)","e":".gdl"},{"m":"application/vnd.geometry-explorer","d":"GeoMetry Explorer","e":".gex"},{"m":"application/vnd.geonext","d":"GEONExT and JSXGraph","e":".gxt"},{"m":"application/vnd.geoplan","d":"GeoplanW","e":".g2w"},{"m":"application/vnd.geospace","d":"GeospacW","e":".g3w"},{"m":"application/x-font-ghostscript","d":"Ghostscript Font","e":".gsf"},{"m":"application/x-font-bdf","d":"Glyph Bitmap Distribution Format","e":".bdf"},{"m":"application/x-gtar","d":"GNU Tar Files","e":".gtar"},{"m":"application/x-texinfo","d":"GNU Texinfo Document","e":".texinfo"},{"m":"application/x-gnumeric","d":"Gnumeric","e":".gnumeric"},{"m":"application/vnd.google-earth.kml+xml","d":"Google Earth - KML","e":".kml"},{"m":"application/vnd.google-earth.kmz","d":"Google Earth - Zipped KML","e":".kmz"},{"m":"application/gpx+xml","d":"GPS eXchange Format","e":".gpx"},{"m":"application/vnd.grafeq","d":"GrafEq","e":".gqf"},{"m":"image/gif","d":"Graphics Interchange Format","e":".gif"},{"m":"text/vnd.graphviz","d":"Graphviz","e":".gv"},{"m":"application/vnd.groove-account","d":"Groove - Account","e":".gac"},{"m":"application/vnd.groove-help","d":"Groove - Help","e":".ghf"},{"m":"application/vnd.groove-identity-message","d":"Groove - Identity Message","e":".gim"},{"m":"application/vnd.groove-injector","d":"Groove - Injector","e":".grv"},{"m":"application/vnd.groove-tool-message","d":"Groove - Tool Message","e":".gtm"},{"m":"application/vnd.groove-tool-template","d":"Groove - Tool Template","e":".tpl"},{"m":"application/vnd.groove-vcard","d":"Groove - Vcard","e":".vcg"},{"m":"application/gzip","d":"GZip","e":".gz"},{"m":"video/h261","d":"H.261","e":".h261"},{"m":"video/h263","d":"H.263","e":".h263"},{"m":"video/h264","d":"H.264","e":".h264"},{"m":"application/vnd.hp-hpid","d":"Hewlett Packard Instant Delivery","e":".hpid"},{"m":"application/vnd.hp-hps","d":"Hewlett-Packard's WebPrintSmart","e":".hps"},{"m":"application/x-hdf","d":"Hierarchical Data Format","e":".hdf"},{"m":"audio/vnd.rip","d":"Hit'n'Mix","e":".rip"},{"m":"application/vnd.hbci","d":"Homebanking Computer Interface (HBCI)","e":".hbci"},{"m":"application/vnd.hp-jlyt","d":"HP Indigo Digital Press - Job Layout Languate","e":".jlt"},{"m":"application/vnd.hp-pcl","d":"HP Printer Command Language","e":".pcl"},{"m":"application/vnd.hp-hpgl","d":"HP-GL/2 and HP RTL","e":".hpgl"},{"m":"application/vnd.yamaha.hv-script","d":"HV Script","e":".hvs"},{"m":"application/vnd.yamaha.hv-dic","d":"HV Voice Dictionary","e":".hvd"},{"m":"application/vnd.yamaha.hv-voice","d":"HV Voice Parameter","e":".hvp"},{"m":"application/vnd.hydrostatix.sof-data","d":"Hydrostatix Master Suite","e":".sfd-hdstx"},{"m":"application/hyperstudio","d":"Hyperstudio","e":".stk"},{"m":"application/vnd.hal+xml","d":"Hypertext Application Language","e":".hal"},{"m":"text/html","d":"HyperText Markup Language (HTML)","e":".html"},{"m":"application/vnd.ibm.rights-management","d":"IBM DB2 Rights Manager","e":".irm"},{"m":"application/vnd.ibm.secure-container","d":"IBM Electronic Media Management System - Secure Container","e":".sc"},{"m":"text/calendar","d":"iCalendar","e":".ics"},{"m":"application/vnd.iccprofile","d":"ICC profile","e":".icc"},{"m":"image/x-icon","d":"Icon Image","e":".ico"},{"m":"application/vnd.igloader","d":"igLoader","e":".igl"},{"m":"image/ief","d":"Image Exchange Format","e":".ief"},{"m":"application/vnd.immervision-ivp","d":"ImmerVision PURE Players","e":".ivp"},{"m":"application/vnd.immervision-ivu","d":"ImmerVision PURE Players","e":".ivu"},{"m":"application/reginfo+xml","d":"IMS Networks","e":".rif"},{"m":"text/vnd.in3d.3dml","d":"In3D - 3DML","e":".3dml"},{"m":"text/vnd.in3d.spot","d":"In3D - 3DML","e":".spot"},{"m":"model/iges","d":"Initial Graphics Exchange Specification (IGES)","e":".igs"},{"m":"application/vnd.intergeo","d":"Interactive Geometry Software","e":".i2g"},{"m":"application/vnd.cinderella","d":"Interactive Geometry Software Cinderella","e":".cdy"},{"m":"application/vnd.intercon.formnet","d":"Intercon FormNet","e":".xpw"},{"m":"application/vnd.isac.fcs","d":"International Society for Advancement of Cytometry","e":".fcs"},{"m":"application/ipfix","d":"Internet Protocol Flow Information Export","e":".ipfix"},{"m":"application/pkix-cert","d":"Internet Public Key Infrastructure - Certificate","e":".cer"},{"m":"application/pkixcmp","d":"Internet Public Key Infrastructure - Certificate Management Protocole","e":".pki"},{"m":"application/pkix-crl","d":"Internet Public Key Infrastructure - Certificate Revocation Lists","e":".crl"},{"m":"application/pkix-pkipath","d":"Internet Public Key Infrastructure - Certification Path","e":".pkipath"},{"m":"application/vnd.insors.igm","d":"IOCOM Visimeet","e":".igm"},{"m":"application/vnd.ipunplugged.rcprofile","d":"IP Unplugged Roaming Client","e":".rcprofile"},{"m":"application/vnd.irepository.package+xml","d":"iRepository / Lucidoc Editor","e":".irp"},{"m":"text/vnd.sun.j2me.app-descriptor","d":"J2ME App Descriptor","e":".jad"},{"m":"application/java-archive","d":"Java Archive","e":".jar"},{"m":"application/java-vm","d":"Java Bytecode File","e":".class"},{"m":"application/x-java-jnlp-file","d":"Java Network Launching Protocol","e":".jnlp"},{"m":"application/java-serialized-object","d":"Java Serialized Object","e":".ser"},{"m":"text/x-java-source,java","d":"Java Source File","e":".java"},{"m":"application/javascript","d":"JavaScript","e":".js"},{"m":"text/javascript","d":"JavaScript Module","e":".mjs"},{"m":"application/json","d":"JavaScript Object Notation (JSON)","e":".json"},{"m":"application/vnd.joost.joda-archive","d":"Joda Archive","e":".joda"},{"m":"video/jpm","d":"JPEG 2000 Compound Image File Format","e":".jpm"},{"m":"image/jpeg","d":"JPEG Image","e":".jpeg, .jpg"},{"m":"image/x-citrix-jpeg","d":"JPEG Image (Citrix client)","e":".jpeg, .jpg"},{"m":"image/pjpeg","d":"JPEG Image (Progressive)","e":".pjpeg"},{"m":"video/jpeg","d":"JPGVideo","e":".jpgv"},{"m":"application/ld+json","d":"JSON - Linked Data","e":".jsonld"},{"m":"application/vnd.kahootz","d":"Kahootz","e":".ktz"},{"m":"application/vnd.chipnuts.karaoke-mmd","d":"Karaoke on Chipnuts Chipsets","e":".mmd"},{"m":"application/vnd.kde.karbon","d":"KDE KOffice Office Suite - Karbon","e":".karbon"},{"m":"application/vnd.kde.kchart","d":"KDE KOffice Office Suite - KChart","e":".chrt"},{"m":"application/vnd.kde.kformula","d":"KDE KOffice Office Suite - Kformula","e":".kfo"},{"m":"application/vnd.kde.kivio","d":"KDE KOffice Office Suite - Kivio","e":".flw"},{"m":"application/vnd.kde.kontour","d":"KDE KOffice Office Suite - Kontour","e":".kon"},{"m":"application/vnd.kde.kpresenter","d":"KDE KOffice Office Suite - Kpresenter","e":".kpr"},{"m":"application/vnd.kde.kspread","d":"KDE KOffice Office Suite - Kspread","e":".ksp"},{"m":"application/vnd.kde.kword","d":"KDE KOffice Office Suite - Kword","e":".kwd"},{"m":"application/vnd.kenameaapp","d":"Kenamea App","e":".htke"},{"m":"application/vnd.kidspiration","d":"Kidspiration","e":".kia"},{"m":"application/vnd.kinar","d":"Kinar Applications","e":".kne"},{"m":"application/vnd.kodak-descriptor","d":"Kodak Storyshare","e":".sse"},{"m":"application/vnd.las.las+xml","d":"Laser App Enterprise","e":".lasxml"},{"m":"application/x-latex","d":"LaTeX","e":".latex"},{"m":"application/vnd.llamagraphics.life-balance.desktop","d":"Life Balance - Desktop Edition","e":".lbd"},{"m":"application/vnd.llamagraphics.life-balance.exchange+xml","d":"Life Balance - Exchange Format","e":".lbe"},{"m":"application/vnd.jam","d":"Lightspeed Audio Lab","e":".jam"},{"m":"application/vnd.lotus-1-2-3","d":"Lotus 1-2-3","e":".123"},{"m":"application/vnd.lotus-approach","d":"Lotus Approach","e":".apr"},{"m":"application/vnd.lotus-freelance","d":"Lotus Freelance","e":".pre"},{"m":"application/vnd.lotus-notes","d":"Lotus Notes","e":".nsf"},{"m":"application/vnd.lotus-organizer","d":"Lotus Organizer","e":".org"},{"m":"application/vnd.lotus-screencam","d":"Lotus Screencam","e":".scm"},{"m":"application/vnd.lotus-wordpro","d":"Lotus Wordpro","e":".lwp"},{"m":"audio/vnd.lucent.voice","d":"Lucent Voice","e":".lvp"},{"m":"audio/x-mpegurl","d":"M3U (Multimedia Playlist)","e":".m3u"},{"m":"video/x-m4v","d":"M4v","e":".m4v"},{"m":"application/mac-binhex40","d":"Macintosh BinHex 4.0","e":".hqx"},{"m":"application/vnd.macports.portpkg","d":"MacPorts Port System","e":".portpkg"},{"m":"application/vnd.osgeo.mapguide.package","d":"MapGuide DBXML","e":".mgp"},{"m":"application/marc","d":"MARC Formats","e":".mrc"},{"m":"application/marcxml+xml","d":"MARC21 XML Schema","e":".mrcx"},{"m":"application/mxf","d":"Material Exchange Format","e":".mxf"},{"m":"application/vnd.wolfram.player","d":"Mathematica Notebook Player","e":".nbp"},{"m":"application/mathematica","d":"Mathematica Notebooks","e":".ma"},{"m":"application/mathml+xml","d":"Mathematical Markup Language","e":".mathml"},{"m":"application/mbox","d":"Mbox database files","e":".mbox"},{"m":"application/vnd.medcalcdata","d":"MedCalc","e":".mc1"},{"m":"application/mediaservercontrol+xml","d":"Media Server Control Markup Language","e":".mscml"},{"m":"application/vnd.mediastation.cdkey","d":"MediaRemote","e":".cdkey"},{"m":"application/vnd.mfer","d":"Medical Waveform Encoding Format","e":".mwf"},{"m":"application/vnd.mfmp","d":"Melody Format for Mobile Platform","e":".mfm"},{"m":"model/mesh","d":"Mesh Data Type","e":".msh"},{"m":"application/mads+xml","d":"Metadata Authority Description Schema","e":".mads"},{"m":"application/mets+xml","d":"Metadata Encoding and Transmission Standard","e":".mets"},{"m":"application/mods+xml","d":"Metadata Object Description Schema","e":".mods"},{"m":"application/metalink4+xml","d":"Metalink","e":".meta4"},{"m":"application/vnd.mcd","d":"Micro CADAM Helix D&D","e":".mcd"},{"m":"application/vnd.micrografx.flo","d":"Micrografx","e":".flo"},{"m":"application/vnd.micrografx.igx","d":"Micrografx iGrafx Professional","e":".igx"},{"m":"application/vnd.eszigno3+xml","d":"MICROSEC e-Szignï¿½","e":".es3"},{"m":"application/x-msaccess","d":"Microsoft Access","e":".mdb"},{"m":"video/x-ms-asf","d":"Microsoft Advanced Systems Format (ASF)","e":".asf"},{"m":"application/x-msdownload","d":"Microsoft Application","e":".exe"},{"m":"application/vnd.ms-artgalry","d":"Microsoft Artgalry","e":".cil"},{"m":"application/vnd.ms-cab-compressed","d":"Microsoft Cabinet File","e":".cab"},{"m":"application/vnd.ms-ims","d":"Microsoft Class Server","e":".ims"},{"m":"application/x-ms-application","d":"Microsoft ClickOnce","e":".application"},{"m":"application/x-msclip","d":"Microsoft Clipboard Clip","e":".clp"},{"m":"image/vnd.ms-modi","d":"Microsoft Document Imaging Format","e":".mdi"},{"m":"application/vnd.ms-fontobject","d":"Microsoft Embedded OpenType","e":".eot"},{"m":"application/vnd.ms-excel","d":"Microsoft Excel","e":".xls"},{"m":"application/vnd.ms-excel.addin.macroenabled.12","d":"Microsoft Excel - Add-In File","e":".xlam"},{"m":"application/vnd.ms-excel.sheet.binary.macroenabled.12","d":"Microsoft Excel - Binary Workbook","e":".xlsb"},{"m":"application/vnd.ms-excel.template.macroenabled.12","d":"Microsoft Excel - Macro-Enabled Template File","e":".xltm"},{"m":"application/vnd.ms-excel.sheet.macroenabled.12","d":"Microsoft Excel - Macro-Enabled Workbook","e":".xlsm"},{"m":"application/vnd.ms-htmlhelp","d":"Microsoft Html Help File","e":".chm"},{"m":"application/x-mscardfile","d":"Microsoft Information Card","e":".crd"},{"m":"application/vnd.ms-lrm","d":"Microsoft Learning Resource Module","e":".lrm"},{"m":"application/x-msmediaview","d":"Microsoft MediaView","e":".mvb"},{"m":"application/x-msmoney","d":"Microsoft Money","e":".mny"},{"m":"application/vnd.openxmlformats-officedocument.presentationml.presentation","d":"Microsoft Office - OOXML - Presentation","e":".pptx"},{"m":"application/vnd.openxmlformats-officedocument.presentationml.slide","d":"Microsoft Office - OOXML - Presentation (Slide)","e":".sldx"},{"m":"application/vnd.openxmlformats-officedocument.presentationml.slideshow","d":"Microsoft Office - OOXML - Presentation (Slideshow)","e":".ppsx"},{"m":"application/vnd.openxmlformats-officedocument.presentationml.template","d":"Microsoft Office - OOXML - Presentation Template","e":".potx"},{"m":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","d":"Microsoft Office - OOXML - Spreadsheet","e":".xlsx"},{"m":"application/vnd.openxmlformats-officedocument.spreadsheetml.template","d":"Microsoft Office - OOXML - Spreadsheet Template","e":".xltx"},{"m":"application/vnd.openxmlformats-officedocument.wordprocessingml.document","d":"Microsoft Office - OOXML - Word Document","e":".docx"},{"m":"application/vnd.openxmlformats-officedocument.wordprocessingml.template","d":"Microsoft Office - OOXML - Word Document Template","e":".dotx"},{"m":"application/x-msbinder","d":"Microsoft Office Binder","e":".obd"},{"m":"application/vnd.ms-officetheme","d":"Microsoft Office System Release Theme","e":".thmx"},{"m":"application/onenote","d":"Microsoft OneNote","e":".onetoc"},{"m":"audio/vnd.ms-playready.media.pya","d":"Microsoft PlayReady Ecosystem","e":".pya"},{"m":"video/vnd.ms-playready.media.pyv","d":"Microsoft PlayReady Ecosystem Video","e":".pyv"},{"m":"application/vnd.ms-powerpoint","d":"Microsoft PowerPoint","e":".ppt"},{"m":"application/vnd.ms-powerpoint.addin.macroenabled.12","d":"Microsoft PowerPoint - Add-in file","e":".ppam"},{"m":"application/vnd.ms-powerpoint.slide.macroenabled.12","d":"Microsoft PowerPoint - Macro-Enabled Open XML Slide","e":".sldm"},{"m":"application/vnd.ms-powerpoint.presentation.macroenabled.12","d":"Microsoft PowerPoint - Macro-Enabled Presentation File","e":".pptm"},{"m":"application/vnd.ms-powerpoint.slideshow.macroenabled.12","d":"Microsoft PowerPoint - Macro-Enabled Slide Show File","e":".ppsm"},{"m":"application/vnd.ms-powerpoint.template.macroenabled.12","d":"Microsoft PowerPoint - Macro-Enabled Template File","e":".potm"},{"m":"application/vnd.ms-project","d":"Microsoft Project","e":".mpp"},{"m":"application/x-mspublisher","d":"Microsoft Publisher","e":".pub"},{"m":"application/x-msschedule","d":"Microsoft Schedule+","e":".scd"},{"m":"application/x-silverlight-app","d":"Microsoft Silverlight","e":".xap"},{"m":"application/vnd.ms-pki.stl","d":"Microsoft Trust UI Provider - Certificate Trust Link","e":".stl"},{"m":"application/vnd.ms-pki.seccat","d":"Microsoft Trust UI Provider - Security Catalog","e":".cat"},{"m":"application/vnd.visio","d":"Microsoft Visio","e":".vsd"},{"m":"application/vnd.visio2013","d":"Microsoft Visio 2013","e":".vsdx"},{"m":"video/x-ms-wm","d":"Microsoft Windows Media","e":".wm"},{"m":"audio/x-ms-wma","d":"Microsoft Windows Media Audio","e":".wma"},{"m":"audio/x-ms-wax","d":"Microsoft Windows Media Audio Redirector","e":".wax"},{"m":"video/x-ms-wmx","d":"Microsoft Windows Media Audio/Video Playlist","e":".wmx"},{"m":"application/x-ms-wmd","d":"Microsoft Windows Media Player Download Package","e":".wmd"},{"m":"application/vnd.ms-wpl","d":"Microsoft Windows Media Player Playlist","e":".wpl"},{"m":"application/x-ms-wmz","d":"Microsoft Windows Media Player Skin Package","e":".wmz"},{"m":"video/x-ms-wmv","d":"Microsoft Windows Media Video","e":".wmv"},{"m":"video/x-ms-wvx","d":"Microsoft Windows Media Video Playlist","e":".wvx"},{"m":"application/x-msmetafile","d":"Microsoft Windows Metafile","e":".wmf"},{"m":"application/x-msterminal","d":"Microsoft Windows Terminal Services","e":".trm"},{"m":"application/msword","d":"Microsoft Word","e":".doc"},{"m":"application/vnd.ms-word.document.macroenabled.12","d":"Microsoft Word - Macro-Enabled Document","e":".docm"},{"m":"application/vnd.ms-word.template.macroenabled.12","d":"Microsoft Word - Macro-Enabled Template","e":".dotm"},{"m":"application/x-mswrite","d":"Microsoft Wordpad","e":".wri"},{"m":"application/vnd.ms-works","d":"Microsoft Works","e":".wps"},{"m":"application/x-ms-xbap","d":"Microsoft XAML Browser Application","e":".xbap"},{"m":"application/vnd.ms-xpsdocument","d":"Microsoft XML Paper Specification","e":".xps"},{"m":"audio/midi","d":"MIDI","e":".midi, .mid"},{"m":"application/vnd.ibm.minipay","d":"MiniPay","e":".mpy"},{"m":"application/vnd.ibm.modcap","d":"MO:DCA-P","e":".afp"},{"m":"application/vnd.jcp.javame.midlet-rms","d":"Mobile Information Device Profile","e":".rms"},{"m":"application/vnd.tmobile-livetv","d":"MobileTV","e":".tmo"},{"m":"application/x-mobipocket-ebook","d":"Mobipocket","e":".prc"},{"m":"application/vnd.mobius.mbk","d":"Mobius Management Systems - Basket file","e":".mbk"},{"m":"application/vnd.mobius.dis","d":"Mobius Management Systems - Distribution Database","e":".dis"},{"m":"application/vnd.mobius.plc","d":"Mobius Management Systems - Policy Definition Language File","e":".plc"},{"m":"application/vnd.mobius.mqy","d":"Mobius Management Systems - Query File","e":".mqy"},{"m":"application/vnd.mobius.msl","d":"Mobius Management Systems - Script Language","e":".msl"},{"m":"application/vnd.mobius.txf","d":"Mobius Management Systems - Topic Index File","e":".txf"},{"m":"application/vnd.mobius.daf","d":"Mobius Management Systems - UniversalArchive","e":".daf"},{"m":"text/vnd.fly","d":"mod_fly / fly.cgi","e":".fly"},{"m":"application/vnd.mophun.certificate","d":"Mophun Certificate","e":".mpc"},{"m":"application/vnd.mophun.application","d":"Mophun VM","e":".mpn"},{"m":"video/mj2","d":"Motion JPEG 2000","e":".mj2"},{"m":"audio/mpeg","d":"MPEG Audio","e":".mpga"},{"m":"video/mp2t","d":"MPEG Transport Stream","e":".ts"},{"m":"video/vnd.mpegurl","d":"MPEG Url","e":".mxu"},{"m":"video/mpeg","d":"MPEG Video","e":".mpeg"},{"m":"application/mp21","d":"MPEG-21","e":".m21"},{"m":"audio/mp4","d":"MPEG-4 Audio","e":".mp4a"},{"m":"video/mp4","d":"MPEG-4 Video","e":".mp4"},{"m":"application/mp4","d":"MPEG4","e":".mp4"},{"m":"application/vnd.apple.mpegurl","d":"Multimedia Playlist Unicode","e":".m3u8"},{"m":"application/vnd.musician","d":"MUsical Score Interpreted Code Invented for the ASCII designation of Notation","e":".mus"},{"m":"application/vnd.muvee.style","d":"Muvee Automatic Video Editing","e":".msty"},{"m":"application/xv+xml","d":"MXML","e":".mxml"},{"m":"application/vnd.nokia.n-gage.data","d":"N-Gage Game Data","e":".ngdat"},{"m":"application/vnd.nokia.n-gage.symbian.install","d":"N-Gage Game Installer","e":".n-gage"},{"m":"application/x-dtbncx+xml","d":"Navigation Control file for XML (for ePub)","e":".ncx"},{"m":"application/x-netcdf","d":"Network Common Data Form (NetCDF)","e":".nc"},{"m":"application/vnd.neurolanguage.nlu","d":"neuroLanguage","e":".nlu"},{"m":"application/vnd.dna","d":"New Moon Liftoff/DNA","e":".dna"},{"m":"application/vnd.noblenet-directory","d":"NobleNet Directory","e":".nnd"},{"m":"application/vnd.noblenet-sealer","d":"NobleNet Sealer","e":".nns"},{"m":"application/vnd.noblenet-web","d":"NobleNet Web","e":".nnw"},{"m":"application/vnd.nokia.radio-preset","d":"Nokia Radio Application - Preset","e":".rpst"},{"m":"application/vnd.nokia.radio-presets","d":"Nokia Radio Application - Preset","e":".rpss"},{"m":"text/n3","d":"Notation3","e":".n3"},{"m":"application/vnd.novadigm.edm","d":"Novadigm's RADIA and EDM products","e":".edm"},{"m":"application/vnd.novadigm.edx","d":"Novadigm's RADIA and EDM products","e":".edx"},{"m":"application/vnd.novadigm.ext","d":"Novadigm's RADIA and EDM products","e":".ext"},{"m":"application/vnd.flographit","d":"NpGraphIt","e":".gph"},{"m":"audio/vnd.nuera.ecelp4800","d":"Nuera ECELP 4800","e":".ecelp4800"},{"m":"audio/vnd.nuera.ecelp7470","d":"Nuera ECELP 7470","e":".ecelp7470"},{"m":"audio/vnd.nuera.ecelp9600","d":"Nuera ECELP 9600","e":".ecelp9600"},{"m":"application/oda","d":"Office Document Architecture","e":".oda"},{"m":"application/ogg","d":"Ogg","e":".ogx"},{"m":"audio/ogg","d":"Ogg Audio","e":".oga"},{"m":"video/ogg","d":"Ogg Video","e":".ogv"},{"m":"application/vnd.oma.dd2+xml","d":"OMA Download Agents","e":".dd2"},{"m":"application/vnd.oasis.opendocument.text-web","d":"Open Document Text Web","e":".oth"},{"m":"application/oebps-package+xml","d":"Open eBook Publication Structure","e":".opf"},{"m":"application/vnd.intu.qbo","d":"Open Financial Exchange","e":".qbo"},{"m":"application/vnd.openofficeorg.extension","d":"Open Office Extension","e":".oxt"},{"m":"application/vnd.yamaha.openscoreformat","d":"Open Score Format","e":".osf"},{"m":"audio/webm","d":"Open Web Media Project - Audio","e":".weba"},{"m":"video/webm","d":"Open Web Media Project - Video","e":".webm"},{"m":"application/vnd.oasis.opendocument.chart","d":"OpenDocument Chart","e":".odc"},{"m":"application/vnd.oasis.opendocument.chart-template","d":"OpenDocument Chart Template","e":".otc"},{"m":"application/vnd.oasis.opendocument.database","d":"OpenDocument Database","e":".odb"},{"m":"application/vnd.oasis.opendocument.formula","d":"OpenDocument Formula","e":".odf"},{"m":"application/vnd.oasis.opendocument.formula-template","d":"OpenDocument Formula Template","e":".odft"},{"m":"application/vnd.oasis.opendocument.graphics","d":"OpenDocument Graphics","e":".odg"},{"m":"application/vnd.oasis.opendocument.graphics-template","d":"OpenDocument Graphics Template","e":".otg"},{"m":"application/vnd.oasis.opendocument.image","d":"OpenDocument Image","e":".odi"},{"m":"application/vnd.oasis.opendocument.image-template","d":"OpenDocument Image Template","e":".oti"},{"m":"application/vnd.oasis.opendocument.presentation","d":"OpenDocument Presentation","e":".odp"},{"m":"application/vnd.oasis.opendocument.presentation-template","d":"OpenDocument Presentation Template","e":".otp"},{"m":"application/vnd.oasis.opendocument.spreadsheet","d":"OpenDocument Spreadsheet","e":".ods"},{"m":"application/vnd.oasis.opendocument.spreadsheet-template","d":"OpenDocument Spreadsheet Template","e":".ots"},{"m":"application/vnd.oasis.opendocument.text","d":"OpenDocument Text","e":".odt"},{"m":"application/vnd.oasis.opendocument.text-master","d":"OpenDocument Text Master","e":".odm"},{"m":"application/vnd.oasis.opendocument.text-template","d":"OpenDocument Text Template","e":".ott"},{"m":"image/ktx","d":"OpenGL Textures (KTX)","e":".ktx"},{"m":"application/vnd.sun.xml.calc","d":"OpenOffice - Calc (Spreadsheet)","e":".sxc"},{"m":"application/vnd.sun.xml.calc.template","d":"OpenOffice - Calc Template (Spreadsheet)","e":".stc"},{"m":"application/vnd.sun.xml.draw","d":"OpenOffice - Draw (Graphics)","e":".sxd"},{"m":"application/vnd.sun.xml.draw.template","d":"OpenOffice - Draw Template (Graphics)","e":".std"},{"m":"application/vnd.sun.xml.impress","d":"OpenOffice - Impress (Presentation)","e":".sxi"},{"m":"application/vnd.sun.xml.impress.template","d":"OpenOffice - Impress Template (Presentation)","e":".sti"},{"m":"application/vnd.sun.xml.math","d":"OpenOffice - Math (Formula)","e":".sxm"},{"m":"application/vnd.sun.xml.writer","d":"OpenOffice - Writer (Text - HTML)","e":".sxw"},{"m":"application/vnd.sun.xml.writer.global","d":"OpenOffice - Writer (Text - HTML)","e":".sxg"},{"m":"application/vnd.sun.xml.writer.template","d":"OpenOffice - Writer Template (Text - HTML)","e":".stw"},{"m":"application/x-font-otf","d":"OpenType Font File","e":".otf"},{"m":"audio/opus","d":"Opus Audio","e":".opus"},{"m":"application/vnd.yamaha.openscoreformat.osfpvg+xml","d":"OSFPVG","e":".osfpvg"},{"m":"application/vnd.osgi.dp","d":"OSGi Deployment Package","e":".dp"},{"m":"application/vnd.palm","d":"PalmOS Data","e":".pdb"},{"m":"text/x-pascal","d":"Pascal Source File","e":".p"},{"m":"application/vnd.pawaafile","d":"PawaaFILE","e":".paw"},{"m":"application/vnd.hp-pclxl","d":"PCL 6 Enhanced (Formely PCL XL)","e":".pclxl"},{"m":"application/vnd.picsel","d":"Pcsel eFIF File","e":".efif"},{"m":"image/x-pcx","d":"PCX Image","e":".pcx"},{"m":"image/vnd.adobe.photoshop","d":"Photoshop Document","e":".psd"},{"m":"application/pics-rules","d":"PICSRules","e":".prf"},{"m":"image/x-pict","d":"PICT Image","e":".pic"},{"m":"application/x-chat","d":"pIRCh","e":".chat"},{"m":"application/pkcs10","d":"PKCS #10 - Certification Request Standard","e":".p10"},{"m":"application/x-pkcs12","d":"PKCS #12 - Personal Information Exchange Syntax Standard","e":".p12"},{"m":"application/pkcs7-mime","d":"PKCS #7 - Cryptographic Message Syntax Standard","e":".p7m"},{"m":"application/pkcs7-signature","d":"PKCS #7 - Cryptographic Message Syntax Standard","e":".p7s"},{"m":"application/x-pkcs7-certreqresp","d":"PKCS #7 - Cryptographic Message Syntax Standard (Certificate Request Response)","e":".p7r"},{"m":"application/x-pkcs7-certificates","d":"PKCS #7 - Cryptographic Message Syntax Standard (Certificates)","e":".p7b"},{"m":"application/pkcs8","d":"PKCS #8 - Private-Key Information Syntax Standard","e":".p8"},{"m":"application/vnd.pocketlearn","d":"PocketLearn Viewers","e":".plf"},{"m":"image/x-portable-anymap","d":"Portable Anymap Image","e":".pnm"},{"m":"image/x-portable-bitmap","d":"Portable Bitmap Format","e":".pbm"},{"m":"application/x-font-pcf","d":"Portable Compiled Format","e":".pcf"},{"m":"application/font-tdpfr","d":"Portable Font Resource","e":".pfr"},{"m":"application/x-chess-pgn","d":"Portable Game Notation (Chess Games)","e":".pgn"},{"m":"image/x-portable-graymap","d":"Portable Graymap Format","e":".pgm"},{"m":"image/png","d":"Portable Network Graphics (PNG)","e":".png"},{"m":"image/x-citrix-png","d":"Portable Network Graphics (PNG) (Citrix client)","e":".png"},{"m":"image/x-png","d":"Portable Network Graphics (PNG) (x-token)","e":".png"},{"m":"image/x-portable-pixmap","d":"Portable Pixmap Format","e":".ppm"},{"m":"application/pskc+xml","d":"Portable Symmetric Key Container","e":".pskcxml"},{"m":"application/vnd.ctc-posml","d":"PosML","e":".pml"},{"m":"application/postscript","d":"PostScript","e":".ai"},{"m":"application/x-font-type1","d":"PostScript Fonts","e":".pfa"},{"m":"application/vnd.powerbuilder6","d":"PowerBuilder","e":".pbd"},{"m":"application/pgp-encrypted","d":"Pretty Good Privacy","e":".pgp"},{"m":"application/pgp-signature","d":"Pretty Good Privacy - Signature","e":".pgp"},{"m":"application/vnd.previewsystems.box","d":"Preview Systems ZipLock/VBox","e":".box"},{"m":"application/vnd.pvi.ptid1","d":"Princeton Video Image","e":".ptid"},{"m":"application/pls+xml","d":"Pronunciation Lexicon Specification","e":".pls"},{"m":"application/vnd.pg.format","d":"Proprietary P&G Standard Reporting System","e":".str"},{"m":"application/vnd.pg.osasli","d":"Proprietary P&G Standard Reporting System","e":".ei6"},{"m":"text/prs.lines.tag","d":"PRS Lines Tag","e":".dsc"},{"m":"application/x-font-linux-psf","d":"PSF Fonts","e":".psf"},{"m":"application/vnd.publishare-delta-tree","d":"PubliShare Objects","e":".qps"},{"m":"application/vnd.pmi.widget","d":"Qualcomm's Plaza Mobile Internet","e":".wg"},{"m":"application/vnd.quark.quarkxpress","d":"QuarkXpress","e":".qxd"},{"m":"application/vnd.epson.esf","d":"QUASS Stream Player","e":".esf"},{"m":"application/vnd.epson.msf","d":"QUASS Stream Player","e":".msf"},{"m":"application/vnd.epson.ssf","d":"QUASS Stream Player","e":".ssf"},{"m":"application/vnd.epson.quickanime","d":"QuickAnime Player","e":".qam"},{"m":"application/vnd.intu.qfx","d":"Quicken","e":".qfx"},{"m":"video/quicktime","d":"Quicktime Video","e":".qt"},{"m":"application/x-rar-compressed","d":"RAR Archive","e":".rar"},{"m":"audio/x-pn-realaudio","d":"Real Audio Sound","e":".ram"},{"m":"audio/x-pn-realaudio-plugin","d":"Real Audio Sound","e":".rmp"},{"m":"application/rsd+xml","d":"Really Simple Discovery","e":".rsd"},{"m":"application/vnd.rn-realmedia","d":"RealMedia","e":".rm"},{"m":"application/vnd.realvnc.bed","d":"RealVNC","e":".bed"},{"m":"application/vnd.recordare.musicxml","d":"Recordare Applications","e":".mxl"},{"m":"application/vnd.recordare.musicxml+xml","d":"Recordare Applications","e":".musicxml"},{"m":"application/relax-ng-compact-syntax","d":"Relax NG Compact Syntax","e":".rnc"},{"m":"application/vnd.data-vision.rdz","d":"RemoteDocs R-Viewer","e":".rdz"},{"m":"application/rdf+xml","d":"Resource Description Framework","e":".rdf"},{"m":"application/vnd.cloanto.rp9","d":"RetroPlatform Player","e":".rp9"},{"m":"application/vnd.jisp","d":"RhymBox","e":".jisp"},{"m":"application/rtf","d":"Rich Text Format","e":".rtf"},{"m":"text/richtext","d":"Rich Text Format (RTF)","e":".rtx"},{"m":"application/vnd.route66.link66+xml","d":"ROUTE 66 Location Based Services","e":".link66"},{"m":"application/rss+xml","d":"RSS - Really Simple Syndication","e":".rss, .xml"},{"m":"application/shf+xml","d":"S Hexdump Format","e":".shf"},{"m":"application/vnd.sailingtracker.track","d":"SailingTracker","e":".st"},{"m":"image/svg+xml","d":"Scalable Vector Graphics (SVG)","e":".svg"},{"m":"application/vnd.sus-calendar","d":"ScheduleUs","e":".sus"},{"m":"application/sru+xml","d":"Search/Retrieve via URL Response Format","e":".sru"},{"m":"application/set-payment-initiation","d":"Secure Electronic Transaction - Payment","e":".setpay"},{"m":"application/set-registration-initiation","d":"Secure Electronic Transaction - Registration","e":".setreg"},{"m":"application/vnd.sema","d":"Secured eMail","e":".sema"},{"m":"application/vnd.semd","d":"Secured eMail","e":".semd"},{"m":"application/vnd.semf","d":"Secured eMail","e":".semf"},{"m":"application/vnd.seemail","d":"SeeMail","e":".see"},{"m":"application/x-font-snf","d":"Server Normal Format","e":".snf"},{"m":"application/scvp-vp-request","d":"Server-Based Certificate Validation Protocol - Validation Policies - Request","e":".spq"},{"m":"application/scvp-vp-response","d":"Server-Based Certificate Validation Protocol - Validation Policies - Response","e":".spp"},{"m":"application/scvp-cv-request","d":"Server-Based Certificate Validation Protocol - Validation Request","e":".scq"},{"m":"application/scvp-cv-response","d":"Server-Based Certificate Validation Protocol - Validation Response","e":".scs"},{"m":"application/sdp","d":"Session Description Protocol","e":".sdp"},{"m":"text/x-setext","d":"Setext","e":".etx"},{"m":"video/x-sgi-movie","d":"SGI Movie","e":".movie"},{"m":"application/vnd.shana.informed.formdata","d":"Shana Informed Filler","e":".ifm"},{"m":"application/vnd.shana.informed.formtemplate","d":"Shana Informed Filler","e":".itp"},{"m":"application/vnd.shana.informed.interchange","d":"Shana Informed Filler","e":".iif"},{"m":"application/vnd.shana.informed.package","d":"Shana Informed Filler","e":".ipk"},{"m":"application/thraud+xml","d":"Sharing Transaction Fraud Data","e":".tfi"},{"m":"application/x-shar","d":"Shell Archive","e":".shar"},{"m":"image/x-rgb","d":"Silicon Graphics RGB Bitmap","e":".rgb"},{"m":"application/vnd.epson.salt","d":"SimpleAnimeLite Player","e":".slt"},{"m":"application/vnd.accpac.simply.aso","d":"Simply Accounting","e":".aso"},{"m":"application/vnd.accpac.simply.imp","d":"Simply Accounting - Data Import","e":".imp"},{"m":"application/vnd.simtech-mindmapper","d":"SimTech MindMapper","e":".twd"},{"m":"application/vnd.commonspace","d":"Sixth Floor Media - CommonSpace","e":".csp"},{"m":"application/vnd.yamaha.smaf-audio","d":"SMAF Audio","e":".saf"},{"m":"application/vnd.smaf","d":"SMAF File","e":".mmf"},{"m":"application/vnd.yamaha.smaf-phrase","d":"SMAF Phrase","e":".spf"},{"m":"application/vnd.smart.teacher","d":"SMART Technologies Apps","e":".teacher"},{"m":"application/vnd.svd","d":"SourceView Document","e":".svd"},{"m":"application/sparql-query","d":"SPARQL - Query","e":".rq"},{"m":"application/sparql-results+xml","d":"SPARQL - Results","e":".srx"},{"m":"application/srgs","d":"Speech Recognition Grammar Specification","e":".gram"},{"m":"application/srgs+xml","d":"Speech Recognition Grammar Specification - XML","e":".grxml"},{"m":"application/ssml+xml","d":"Speech Synthesis Markup Language","e":".ssml"},{"m":"application/vnd.koan","d":"SSEYO Koan Play File","e":".skp"},{"m":"text/sgml","d":"Standard Generalized Markup Language (SGML)","e":".sgml"},{"m":"application/vnd.stardivision.calc","d":"StarOffice - Calc","e":".sdc"},{"m":"application/vnd.stardivision.draw","d":"StarOffice - Draw","e":".sda"},{"m":"application/vnd.stardivision.impress","d":"StarOffice - Impress","e":".sdd"},{"m":"application/vnd.stardivision.math","d":"StarOffice - Math","e":".smf"},{"m":"application/vnd.stardivision.writer","d":"StarOffice - Writer","e":".sdw"},{"m":"application/vnd.stardivision.writer-global","d":"StarOffice - Writer (Global)","e":".sgl"},{"m":"application/vnd.stepmania.stepchart","d":"StepMania","e":".sm"},{"m":"application/x-stuffit","d":"Stuffit Archive","e":".sit"},{"m":"application/x-stuffitx","d":"Stuffit Archive","e":".sitx"},{"m":"application/vnd.solent.sdkm+xml","d":"SudokuMagic","e":".sdkm"},{"m":"application/vnd.olpc-sugar","d":"Sugar Linux Application Bundle","e":".xo"},{"m":"audio/basic","d":"Sun Audio - Au file format","e":".au"},{"m":"application/vnd.wqd","d":"SundaHus WQ","e":".wqd"},{"m":"application/vnd.symbian.install","d":"Symbian Install Package","e":".sis"},{"m":"application/smil+xml","d":"Synchronized Multimedia Integration Language","e":".smi"},{"m":"application/vnd.syncml+xml","d":"SyncML","e":".xsm"},{"m":"application/vnd.syncml.dm+wbxml","d":"SyncML - Device Management","e":".bdm"},{"m":"application/vnd.syncml.dm+xml","d":"SyncML - Device Management","e":".xdm"},{"m":"application/x-sv4cpio","d":"System V Release 4 CPIO Archive","e":".sv4cpio"},{"m":"application/x-sv4crc","d":"System V Release 4 CPIO Checksum Data","e":".sv4crc"},{"m":"application/sbml+xml","d":"Systems Biology Markup Language","e":".sbml"},{"m":"text/tab-separated-values","d":"Tab Seperated Values","e":".tsv"},{"m":"image/tiff","d":"Tagged Image File Format","e":".tiff"},{"m":"application/vnd.tao.intent-module-archive","d":"Tao Intent","e":".tao"},{"m":"application/x-tar","d":"Tar File (Tape Archive)","e":".tar"},{"m":"application/x-tcl","d":"Tcl Script","e":".tcl"},{"m":"application/x-tex","d":"TeX","e":".tex"},{"m":"application/x-tex-tfm","d":"TeX Font Metric","e":".tfm"},{"m":"application/tei+xml","d":"Text Encoding and Interchange","e":".tei"},{"m":"text/plain","d":"Text File","e":".txt"},{"m":"application/vnd.spotfire.dxp","d":"TIBCO Spotfire","e":".dxp"},{"m":"application/vnd.spotfire.sfs","d":"TIBCO Spotfire","e":".sfs"},{"m":"application/timestamped-data","d":"Time Stamped Data Envelope","e":".tsd"},{"m":"application/vnd.trid.tpt","d":"TRI Systems Config","e":".tpt"},{"m":"application/vnd.triscape.mxs","d":"Triscape Map Explorer","e":".mxs"},{"m":"text/troff","d":"troff","e":".t"},{"m":"application/vnd.trueapp","d":"True BASIC","e":".tra"},{"m":"application/x-font-ttf","d":"TrueType Font","e":".ttf"},{"m":"text/turtle","d":"Turtle (Terse RDF Triple Language)","e":".ttl"},{"m":"application/vnd.umajin","d":"UMAJIN","e":".umj"},{"m":"application/vnd.uoml+xml","d":"Unique Object Markup Language","e":".uoml"},{"m":"application/vnd.unity","d":"Unity 3d","e":".unityweb"},{"m":"application/vnd.ufdl","d":"Universal Forms Description Language","e":".ufd"},{"m":"text/uri-list","d":"URI Resolution Services","e":".uri"},{"m":"application/vnd.uiq.theme","d":"User Interface Quartz - Theme (Symbian)","e":".utz"},{"m":"application/x-ustar","d":"Ustar (Uniform Standard Tape Archive)","e":".ustar"},{"m":"text/x-uuencode","d":"UUEncode","e":".uu"},{"m":"text/x-vcalendar","d":"vCalendar","e":".vcs"},{"m":"text/x-vcard","d":"vCard","e":".vcf"},{"m":"application/x-cdlink","d":"Video CD","e":".vcd"},{"m":"application/vnd.vsf","d":"Viewport+","e":".vsf"},{"m":"model/vrml","d":"Virtual Reality Modeling Language","e":".wrl"},{"m":"application/vnd.vcx","d":"VirtualCatalog","e":".vcx"},{"m":"model/vnd.mts","d":"Virtue MTS","e":".mts"},{"m":"model/vnd.vtu","d":"Virtue VTU","e":".vtu"},{"m":"application/vnd.visionary","d":"Visionary","e":".vis"},{"m":"video/vnd.vivo","d":"Vivo","e":".viv"},{"m":"application/ccxml+xml,","d":"Voice Browser Call Control","e":".ccxml"},{"m":"application/voicexml+xml","d":"VoiceXML","e":".vxml"},{"m":"application/x-wais-source","d":"WAIS Source","e":".src"},{"m":"application/vnd.wap.wbxml","d":"WAP Binary XML (WBXML)","e":".wbxml"},{"m":"image/vnd.wap.wbmp","d":"WAP Bitamp (WBMP)","e":".wbmp"},{"m":"audio/x-wav","d":"Waveform Audio File Format (WAV)","e":".wav"},{"m":"application/davmount+xml","d":"Web Distributed Authoring and Versioning","e":".davmount"},{"m":"application/x-font-woff","d":"Web Open Font Format","e":".woff"},{"m":"application/wspolicy+xml","d":"Web Services Policy","e":".wspolicy"},{"m":"image/webp","d":"WebP Image","e":".webp"},{"m":"application/vnd.webturbo","d":"WebTurbo","e":".wtb"},{"m":"application/widget","d":"Widget Packaging and XML Configuration","e":".wgt"},{"m":"application/winhlp","d":"WinHelp","e":".hlp"},{"m":"text/vnd.wap.wml","d":"Wireless Markup Language (WML)","e":".wml"},{"m":"text/vnd.wap.wmlscript","d":"Wireless Markup Language Script (WMLScript)","e":".wmls"},{"m":"application/vnd.wap.wmlscriptc","d":"WMLScript","e":".wmlsc"},{"m":"application/vnd.wordperfect","d":"Wordperfect","e":".wpd"},{"m":"application/vnd.wt.stf","d":"Worldtalk","e":".stf"},{"m":"application/wsdl+xml","d":"WSDL - Web Services Description Language","e":".wsdl"},{"m":"image/x-xbitmap","d":"X BitMap","e":".xbm"},{"m":"image/x-xpixmap","d":"X PixMap","e":".xpm"},{"m":"image/x-xwindowdump","d":"X Window Dump","e":".xwd"},{"m":"application/x-x509-ca-cert","d":"X.509 Certificate","e":".der"},{"m":"application/x-xfig","d":"Xfig","e":".fig"},{"m":"application/xhtml+xml","d":"XHTML - The Extensible HyperText Markup Language","e":".xhtml"},{"m":"application/xml","d":"XML - Extensible Markup Language","e":".xml"},{"m":"application/xcap-diff+xml","d":"XML Configuration Access Protocol - XCAP Diff","e":".xdf"},{"m":"application/xenc+xml","d":"XML Encryption Syntax and Processing","e":".xenc"},{"m":"application/patch-ops-error+xml","d":"XML Patch Framework","e":".xer"},{"m":"application/resource-lists+xml","d":"XML Resource Lists","e":".rl"},{"m":"application/rls-services+xml","d":"XML Resource Lists","e":".rs"},{"m":"application/resource-lists-diff+xml","d":"XML Resource Lists Diff","e":".rld"},{"m":"application/xslt+xml","d":"XML Transformations","e":".xslt"},{"m":"application/xop+xml","d":"XML-Binary Optimized Packaging","e":".xop"},{"m":"application/x-xpinstall","d":"XPInstall - Mozilla","e":".xpi"},{"m":"application/xspf+xml","d":"XSPF - XML Shareable Playlist Format","e":".xspf"},{"m":"application/vnd.mozilla.xul+xml","d":"XUL - XML User Interface Language","e":".xul"},{"m":"chemical/x-xyz","d":"XYZ File Format","e":".xyz"},{"m":"text/yaml","d":"YAML Ain't Markup Language / Yet Another Markup Language","e":".yaml"},{"m":"application/yang","d":"YANG Data Modeling Language","e":".yang"},{"m":"application/yin+xml","d":"YIN (YANG - XML)","e":".yin"},{"m":"application/vnd.zul","d":"Z.U.L. Geometry","e":".zir"},{"m":"application/zip","d":"Zip Archive","e":".zip"},{"m":"application/vnd.handheld-entertainment+xml","d":"ZVUE Media Manager","e":".zmm"},{"m":"application/vnd.zzazz.deck+xml","d":"Zzazz Deck","e":".zaz"},{"m":"application/wasm","d":"Web Assembley", "e":".wasm"}]"#;

#[wasm_bindgen]
pub fn read_at_offset_sync(file: web_sys::File) -> Result<JsValue, Error> {
    let mut file_attrs = FileAttrs::default();
    let ftype = &file.type_();
    let flast_modified = file.last_modified();
    let fname = file.name();
    file_attrs.name = Some(fname);
    file_attrs.last_modified = flast_modified;
    file_attrs.size = file.size();
    file_attrs.size_human = Some(convert(file.size()));
    let mut wf = WebSysFile::new(file);
    let mut buf = [0; 200];
    let result = wf.read_exact(&mut buf);
    match result {
        Ok(_) => {}
        Err(_) => return serde_wasm_bindgen::to_value(&file_attrs),
    };
    let result = infer::get(&buf);
    let result = match result {
        Some(tye) => tye.mime_type(),
        None => &ftype,
    };
    file_attrs.mime = Some(String::from(result));
    file_attrs.m = find_mime(result);
    return serde_wasm_bindgen::to_value(&file_attrs);
}

#[derive(Default, Serialize, Deserialize)]
struct FileAttrs {
    name: Option<String>,
    mime: Option<String>,
    last_modified: f64,
    size: f64,
    size_human: Option<String>,
    m: Option<MimeType>,
}

pub fn convert(num: f64) -> String {
    let negative = if num.is_sign_positive() { "" } else { "-" };
    let num = num.abs();
    let units = ["B", "kB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB"];
    if num < 1_f64 {
        return format!("{}{} {}", negative, num, "B");
    }
    let delimiter = 1000_f64;
    let exponent = cmp::min(
        (num.ln() / delimiter.ln()).floor() as i32,
        (units.len() - 1) as i32,
    );
    let pretty_bytes = format!("{:.2}", num / delimiter.powi(exponent))
        .parse::<f64>()
        .unwrap()
        * 1_f64;
    let unit = units[exponent as usize];
    format!("{}{} {}", negative, pretty_bytes, unit)
}

pub fn find_mime(mime: &str) -> Option<MimeType> {
    let json_object: serde_json::Result<Vec<MimeType>> = serde_json::from_str(JSON_EXTENSION);
    let find: Option<MimeType> = match json_object {
        Ok(json_object) => {
            let filter = json_object.iter().find(|&x| {
                return x.m == mime;
            });
            let filter = match filter {
                Some(a) => Some(a.clone()),
                None => None,
            };
            return filter;
        }
        Err(_) => None,
    };
    return find;
}

#[derive(Debug, Clone, Deserialize, Serialize)]
pub struct MimeType {
    pub m: String,
    pub d: String,
    pub e: String,
}
